<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor Documental - Rediseño</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        
        .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(156, 163, 175, 0.5); border-radius: 10px; }

        .file-card { transition: all 0.2s ease-in-out; }
        .file-card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        
        /* Lógica de selección */
        .checkbox-area { display: none; }
        .selection-active .checkbox-area { display: block; } /* Muestra checkbox en grid */
        .selection-active .table-checkbox { display: table-cell; } /* Muestra columna checkbox en tabla */
        
        .selection-active .file-card { cursor: pointer; }
        .selection-active .table-row-item { cursor: pointer; }

        /* Patrón de fondo para imágenes (Checkerboard) */
        .bg-pattern {
            background-color: #f3f4f6;
            background-image: 
                linear-gradient(45deg, #e5e7eb 25%, transparent 25%), 
                linear-gradient(-45deg, #e5e7eb 25%, transparent 25%), 
                linear-gradient(45deg, transparent 75%, #e5e7eb 75%), 
                linear-gradient(-45deg, transparent 75%, #e5e7eb 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }

        pre { font-family: 'Menlo', 'Monaco', 'Courier New', monospace; }
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        sidebar: '#1e293b',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-100 h-screen flex overflow-hidden text-gray-700">

    <!-- SIDEBAR -->
    <aside class="w-72 bg-sidebar text-gray-300 flex flex-col border-r border-gray-700 flex-shrink-0 transition-all duration-300">
        <div class="h-16 flex items-center px-6 border-b border-gray-700 bg-slate-900">
            <div class="text-white font-bold text-lg tracking-wide">
                <i class="fa-solid fa-box-archive mr-2 text-primary"></i> DocManager
            </div>
        </div>

        <div class="p-4 space-y-4 overflow-y-auto custom-scrollbar flex-1">
            <!-- Upload -->
            <div class="group relative border-2 border-dashed border-gray-500 hover:border-primary hover:bg-slate-800 rounded-xl p-6 text-center transition-all cursor-pointer">
                <input type="file" multiple class="absolute inset-0 w-full h-full opacity-0 cursor-pointer">
                <div class="space-y-2">
                    <div class="w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center mx-auto group-hover:bg-blue-600 transition-colors">
                        <i class="fa-solid fa-cloud-arrow-up text-white"></i>
                    </div>
                    <p class="text-sm font-medium text-gray-200">Sube o arrastra archivos</p>
                </div>
            </div>

            <!-- Search -->
            <div class="space-y-3 pt-2">
                <div>
                    <label class="text-xs font-semibold text-gray-400 uppercase tracking-wider ml-1">Buscar</label>
                    <div class="relative mt-1">
                        <input type="text" placeholder="Nombre del archivo..." class="w-full bg-slate-700 text-white text-sm rounded-lg pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary border border-transparent">
                        <i class="fa-solid fa-magnifying-glass absolute left-3 top-2.5 text-gray-400 text-xs"></i>
                    </div>
                </div>
                <div>
                    <label class="text-xs font-semibold text-gray-400 uppercase tracking-wider ml-1">Filtrar Colección</label>
                    <div class="relative mt-1">
                        <input type="text" placeholder="Etiqueta o colección..." class="w-full bg-slate-700 text-white text-sm rounded-lg pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary border border-transparent">
                        <i class="fa-solid fa-filter absolute left-3 top-2.5 text-gray-400 text-xs"></i>
                    </div>
                </div>
            </div>

            <!-- Folders -->
            <div class="pt-4 border-t border-gray-700">
                <div class="flex items-center justify-between mb-2 px-1">
                    <span class="text-xs font-semibold text-gray-400 uppercase tracking-wider">Carpetas</span>
                    <button class="text-gray-400 hover:text-white transition"><i class="fa-solid fa-plus"></i></button>
                </div>
                <nav class="space-y-1">
                    <a href="#" class="flex items-center px-3 py-2 bg-primary/20 text-primary rounded-lg transition-colors font-medium">
                        <i class="fa-solid fa-folder-open mr-3"></i> Todos los documentos
                    </a>
                    <a href="#" class="flex items-center px-3 py-2 hover:bg-slate-800 hover:text-white rounded-lg transition-colors text-sm">
                        <i class="fa-solid fa-folder mr-3 text-gray-500"></i> Facturas 2024
                    </a>
                </nav>
            </div>
        </div>
        <div class="p-4 border-t border-gray-700 text-xs text-gray-500 text-center">
            v2.5.0 &copy; 2025
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="flex-1 flex flex-col bg-white h-full relative">
        
        <!-- Toolbar -->
        <header class="h-16 border-b flex items-center justify-between px-6 bg-white z-10 shrink-0">
            <div class="flex items-center gap-4">
                <h2 class="text-xl font-bold text-gray-800">Documentos</h2>
                <span class="px-2 py-0.5 bg-gray-100 text-gray-500 text-xs rounded-md border">15 archivos</span>
            </div>

            <div class="flex items-center gap-3">
                <div class="relative group">
                    <select class="appearance-none bg-gray-50 border border-gray-300 text-gray-700 py-2 pl-4 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary cursor-pointer hover:bg-gray-100">
                        <option value="">Todos los tipos</option>
                        <option value="image">Imágenes</option>
                        <option value="document">Documentos</option>
                    </select>
                    <i class="fa-solid fa-chevron-down absolute right-3 top-3 text-gray-400 text-xs pointer-events-none"></i>
                </div>

                <div class="h-6 w-px bg-gray-300 mx-1"></div>

                <div class="flex bg-gray-100 p-1 rounded-lg">
                    <button onclick="switchView('grid')" id="btn-grid" class="p-1.5 rounded-md bg-white shadow-sm text-primary transition-all"><i class="fa-solid fa-border-all"></i></button>
                    <button onclick="switchView('list')" id="btn-list" class="p-1.5 rounded-md text-gray-500 hover:text-gray-700 transition-all"><i class="fa-solid fa-list"></i></button>
                </div>
                
                <!-- Toggle Selección -->
                <button id="btn-select-mode" onclick="toggleSelectionMode()" class="ml-2 border border-primary text-primary hover:bg-blue-50 text-sm px-4 py-2 rounded-lg transition flex items-center gap-2">
                    <i class="fa-solid fa-check-double"></i> <span>Seleccionar</span>
                </button>
            </div>
        </header>

        <!-- File Area Wrapper -->
        <div class="flex-1 overflow-y-auto bg-gray-50 p-6 custom-scrollbar" id="main-content-area">
            
            <!-- VISTA 1: GRID (Por defecto) -->
            <div id="view-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-5">

                <!-- Card 1 -->
                <div class="file-card group bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden relative" onclick="handleItemClick(this)">
                    <div class="absolute top-2 left-2 z-10 checkbox-area">
                        <input type="checkbox" class="w-5 h-5 text-primary rounded border-gray-300 focus:ring-primary cursor-pointer shadow-sm">
                    </div>
                    <!-- Contenedor de imagen con patrón de fondo -->
                    <div class="h-32 w-full relative overflow-hidden bg-pattern flex items-center justify-center">
                        <img src="https://cdn.digitalvalue.es/gandia/assets2/68fc8349001d0a846ff5d5ff?w=300" class="max-w-full max-h-full object-contain transition-transform duration-500 group-hover:scale-110">
                    </div>
                    <div class="p-3">
                        <div class="flex items-center gap-2 mb-1"><i class="fa-solid fa-image text-purple-500 text-xs"></i><p class="text-xs text-gray-400 font-mono">JPG</p></div>
                        <h3 class="text-sm font-medium text-gray-700 truncate">historias_instagram.jpg</h3>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="file-card group bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden relative" onclick="handleItemClick(this)">
                    <div class="absolute top-2 left-2 z-10 checkbox-area">
                        <input type="checkbox" class="w-5 h-5 text-primary rounded border-gray-300 focus:ring-primary cursor-pointer shadow-sm">
                    </div>
                    <div class="h-32 bg-red-50 w-full flex items-center justify-center group-hover:bg-red-100 transition-colors">
                        <i class="fa-solid fa-file-pdf text-5xl text-red-500"></i>
                    </div>
                    <div class="p-3">
                        <div class="flex items-center gap-2 mb-1"><i class="fa-solid fa-file-lines text-gray-500 text-xs"></i><p class="text-xs text-gray-400 font-mono">PDF</p></div>
                        <h3 class="text-sm font-medium text-gray-700 truncate">Manual_instalacion.pdf</h3>
                    </div>
                </div>

                 <!-- Card 3 -->
                 <div class="file-card group bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden relative" onclick="handleItemClick(this)">
                    <div class="absolute top-2 left-2 z-10 checkbox-area">
                        <input type="checkbox" class="w-5 h-5 text-primary rounded border-gray-300 focus:ring-primary cursor-pointer shadow-sm">
                    </div>
                    <div class="h-32 bg-slate-800 w-full flex items-center justify-center relative group-hover:bg-slate-700 transition-colors">
                        <i class="fa-solid fa-circle-play text-4xl text-white/80"></i>
                    </div>
                    <div class="p-3">
                        <div class="flex items-center gap-2 mb-1"><i class="fa-solid fa-video text-blue-500 text-xs"></i><p class="text-xs text-gray-400 font-mono">MP4</p></div>
                        <h3 class="text-sm font-medium text-gray-700 truncate">Video_promo.mp4</h3>
                    </div>
                </div>
            </div>

            <!-- VISTA 2: TABLA (Oculta por defecto) -->
            <div id="view-list" class="hidden">
                <div class="overflow-x-auto rounded-lg border border-gray-200 shadow-sm">
                    <table class="min-w-full divide-y divide-gray-200 bg-white">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-10 table-checkbox hidden">
                                    <input type="checkbox" class="rounded border-gray-300 text-primary focus:ring-primary">
                                </th>
                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-20">Previsualización</th>
                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Título</th>
                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell">Descripción</th>
                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombre del fichero</th>
                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">Palabras clave</th>
                                <th scope="col" class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            
                            <!-- Fila 1 -->
                            <tr class="hover:bg-gray-50 transition-colors table-row-item" onclick="handleItemClick(this)">
                                <td class="px-4 py-3 table-checkbox hidden">
                                    <input type="checkbox" class="rounded border-gray-300 text-primary focus:ring-primary w-4 h-4">
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap">
                                    <div class="h-10 w-10 rounded bg-pattern flex items-center justify-center overflow-hidden border border-gray-200">
                                        <img src="https://cdn.digitalvalue.es/gandia/assets2/68fc8349001d0a846ff5d5ff?w=100" class="h-full w-full object-cover">
                                    </div>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900">Historias Instagram</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500 hidden md:table-cell">Campaña verano 2025</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500 font-mono text-xs">historias_instagram.jpg</td>
                                <td class="px-4 py-3 whitespace-nowrap hidden lg:table-cell">
                                    <div class="flex gap-1">
                                        <span class="px-2 py-0.5 text-xs rounded-full bg-blue-100 text-blue-800">redes</span>
                                        <span class="px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-800">2025</span>
                                    </div>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-right text-sm font-medium">
                                    <button class="text-gray-400 hover:text-primary p-1"><i class="fa-solid fa-pen"></i></button>
                                    <button class="text-gray-400 hover:text-red-500 p-1"><i class="fa-solid fa-trash"></i></button>
                                </td>
                            </tr>

                            <!-- Fila 2 -->
                            <tr class="hover:bg-gray-50 transition-colors table-row-item" onclick="handleItemClick(this)">
                                <td class="px-4 py-3 table-checkbox hidden">
                                    <input type="checkbox" class="rounded border-gray-300 text-primary focus:ring-primary w-4 h-4">
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap">
                                    <div class="h-10 w-10 rounded bg-red-50 flex items-center justify-center border border-red-100">
                                        <i class="fa-solid fa-file-pdf text-red-500 text-lg"></i>
                                    </div>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900">Manual Instalación</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500 hidden md:table-cell">Guía para técnicos</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500 font-mono text-xs">Manual_instalacion.pdf</td>
                                <td class="px-4 py-3 whitespace-nowrap hidden lg:table-cell">
                                    <div class="flex gap-1">
                                        <span class="px-2 py-0.5 text-xs rounded-full bg-red-100 text-red-800">docs</span>
                                    </div>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-right text-sm font-medium">
                                    <button class="text-gray-400 hover:text-primary p-1"><i class="fa-solid fa-pen"></i></button>
                                    <button class="text-gray-400 hover:text-red-500 p-1"><i class="fa-solid fa-trash"></i></button>
                                </td>
                            </tr>

                            <!-- Fila 3 -->
                            <tr class="hover:bg-gray-50 transition-colors table-row-item" onclick="handleItemClick(this)">
                                <td class="px-4 py-3 table-checkbox hidden">
                                    <input type="checkbox" class="rounded border-gray-300 text-primary focus:ring-primary w-4 h-4">
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap">
                                    <div class="h-10 w-10 rounded bg-slate-800 flex items-center justify-center border border-slate-600">
                                        <i class="fa-solid fa-play text-white text-xs"></i>
                                    </div>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900">Video Promo</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500 hidden md:table-cell">Spot publicitario TV</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500 font-mono text-xs">Video_promo.mp4</td>
                                <td class="px-4 py-3 whitespace-nowrap hidden lg:table-cell">
                                    <div class="flex gap-1">
                                        <span class="px-2 py-0.5 text-xs rounded-full bg-purple-100 text-purple-800">video</span>
                                        <span class="px-2 py-0.5 text-xs rounded-full bg-green-100 text-green-800">final</span>
                                    </div>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-right text-sm font-medium">
                                    <button class="text-gray-400 hover:text-primary p-1"><i class="fa-solid fa-pen"></i></button>
                                    <button class="text-gray-400 hover:text-red-500 p-1"><i class="fa-solid fa-trash"></i></button>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>

        </div>

        <!-- PAGINATION FOOTER -->
        <div class="border-t border-gray-200 bg-white p-3 flex flex-col sm:flex-row items-center justify-between shrink-0 z-20 gap-3 shadow-[0_-2px_10px_rgba(0,0,0,0.02)]">
            <div class="hidden sm:block text-sm text-gray-500">
                Mostrando <span class="font-medium text-gray-900">1-32</span> de <span class="font-medium text-gray-900">108</span> resultados
            </div>
            <div class="flex items-center gap-2">
                <button class="w-8 h-8 flex items-center justify-center rounded-md border border-gray-300 text-gray-400 hover:bg-gray-50 transition"><i class="fa-solid fa-chevron-left text-xs"></i></button>
                <div class="flex items-center gap-1 bg-gray-50 border border-gray-300 rounded-md px-2 h-8">
                    <input type="number" value="1" min="1" max="2" class="w-6 bg-transparent text-center text-sm focus:outline-none font-medium text-gray-700 p-0">
                    <span class="text-gray-400 text-sm select-none">/ 2</span>
                </div>
                <button class="w-8 h-8 flex items-center justify-center rounded-md border border-gray-300 text-gray-600 hover:bg-gray-50 hover:text-primary transition"><i class="fa-solid fa-chevron-right text-xs"></i></button>
            </div>
            <div class="flex items-center gap-2">
                <label class="text-xs sm:text-sm text-gray-500">Mostrar</label>
                <div class="relative">
                    <select class="appearance-none bg-white border border-gray-300 text-gray-700 text-sm rounded-md py-1 pl-2 pr-6 focus:outline-none focus:ring-1 focus:ring-primary cursor-pointer h-8">
                        <option>32</option>
                        <option>54</option>
                        <option>108</option>
                    </select>
                    <i class="fa-solid fa-chevron-down absolute right-2 top-2.5 text-gray-400 text-[10px] pointer-events-none"></i>
                </div>
            </div>
        </div>
    </main>

    <!-- MODAL OVERLAY (Sin cambios en estructura HTML, solo se usa) -->
    <div id="detail-modal" class="hidden fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 transition-opacity opacity-0 duration-300">
        <div class="bg-white w-full max-w-6xl h-[90vh] rounded-xl shadow-2xl flex flex-col overflow-hidden transform scale-95 transition-transform duration-300" id="modal-content">
            <div class="flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white">
                <h3 class="text-lg font-bold text-gray-800">Detalles del documento</h3>
                <div class="flex items-center gap-2">
                    <button class="w-9 h-9 flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-100 text-gray-600 transition"><i class="fa-solid fa-chevron-left"></i></button>
                    <button class="w-9 h-9 flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-100 text-gray-600 transition"><i class="fa-solid fa-chevron-right"></i></button>
                    <div class="w-px h-6 bg-gray-300 mx-2"></div>
                    <button onclick="closeModal()" class="w-9 h-9 flex items-center justify-center rounded-full bg-red-50 border border-red-100 hover:bg-red-100 text-red-500 transition"><i class="fa-solid fa-xmark"></i></button>
                </div>
            </div>
            <div class="flex flex-1 overflow-hidden flex-col md:flex-row">
                <div class="flex-1 bg-gray-100 p-8 flex items-center justify-center overflow-auto relative">
                    <div class="absolute inset-0 opacity-[0.03]" style="background-image: radial-gradient(#000 1px, transparent 1px); background-size: 20px 20px;"></div>
                    <img id="modal-img" src="https://cdn.digitalvalue.es/gandia/assets2/68fc8349001d0a846ff5d5ff?w=800" class="max-w-full max-h-full object-contain shadow-lg rounded-lg z-10">
                </div>
                <div class="w-full md:w-[400px] lg:w-[450px] bg-white border-l border-gray-200 flex flex-col overflow-y-auto custom-scrollbar">
                    <div class="p-6 space-y-6 flex-1">
                        <div>
                            <div class="flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 border-b pb-2">
                                <i class="fa-solid fa-pen-to-square"></i> Edición
                            </div>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Título</label>
                                    <div class="relative flex rounded-md shadow-sm">
                                        <input type="text" class="block w-full rounded-l-md border-gray-300 border py-2 pl-3 pr-10 text-sm focus:border-primary focus:ring-primary" placeholder="Título del documento">
                                        <span class="inline-flex items-center rounded-r-md border border-l-0 border-gray-300 bg-gray-50 px-3 text-gray-500 hover:bg-blue-50 hover:text-primary cursor-pointer transition"><i class="fa-solid fa-globe"></i></span>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Descripción</label>
                                    <div class="relative flex rounded-md shadow-sm">
                                        <input type="text" class="block w-full rounded-l-md border-gray-300 border py-2 pl-3 pr-10 text-sm focus:border-primary focus:ring-primary" placeholder="Descripción corta...">
                                        <span class="inline-flex items-center rounded-r-md border border-l-0 border-gray-300 bg-gray-50 px-3 text-gray-500 hover:bg-blue-50 hover:text-primary cursor-pointer transition"><i class="fa-solid fa-globe"></i></span>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Nombre del archivo</label>
                                    <input type="text" value="ofitecarquitectura.jpg" class="block w-full rounded-md border border-gray-300 py-2 px-3 text-sm bg-gray-50 text-gray-500 focus:border-primary focus:ring-primary">
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 border-b pb-2 mt-8">
                                <i class="fa-solid fa-circle-info"></i> Información
                            </div>
                            <div class="bg-slate-50 rounded-lg p-4 text-sm space-y-2 border border-slate-100">
                                <div class="flex justify-between"><span class="text-gray-500 font-medium">Type:</span> <span class="text-gray-800">image/jpeg</span></div>
                                <div class="flex justify-between"><span class="text-gray-500 font-medium">Submitted By:</span> <span class="text-gray-800">anonymous</span></div>
                                <div class="flex justify-between"><span class="text-gray-500 font-medium">Dimensions:</span> <span class="text-gray-800">1920 x 2560</span></div>
                                <div class="flex justify-between"><span class="text-gray-500 font-medium">ID:</span> <span class="text-gray-800 font-mono text-xs">69172e1efba64...</span></div>
                            </div>
                        </div>
                        <div class="border border-gray-200 rounded-lg overflow-hidden">
                            <details class="group">
                                <summary class="flex justify-between items-center font-medium cursor-pointer list-none bg-gray-50 p-3 text-sm text-gray-700 hover:bg-gray-100">
                                    <span><i class="fa-solid fa-code mr-2 text-gray-400"></i> Metadatos JSON</span>
                                    <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-xs"></i></span>
                                </summary>
                                <div class="text-gray-600 bg-gray-900 text-xs p-4 overflow-x-auto custom-scrollbar">
<pre class="text-green-400">...</pre>
                                </div>
                            </details>
                        </div>
                    </div>
                    <div class="p-4 border-t border-gray-200 bg-gray-50 flex justify-between items-center sticky bottom-0">
                        <button class="text-red-600 hover:bg-red-50 hover:text-red-700 px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2">
                            <i class="fa-regular fa-trash-can"></i> Eliminar
                        </button>
                        <button class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg text-sm font-medium shadow-sm transition flex items-center gap-2">
                            <i class="fa-regular fa-floppy-disk"></i> Guardar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let isSelectionMode = false;

        // Función Toggle Modo Selección
        function toggleSelectionMode() {
            isSelectionMode = !isSelectionMode;
            const wrapper = document.getElementById('main-content-area'); // Contenedor general
            const btn = document.getElementById('btn-select-mode');
            const btnText = btn.querySelector('span');

            if (isSelectionMode) {
                wrapper.classList.add('selection-active');
                btn.classList.add('bg-primary', 'text-white');
                btn.classList.remove('text-primary', 'border-primary');
                btnText.textContent = "Cancelar Selección";
            } else {
                wrapper.classList.remove('selection-active');
                btn.classList.remove('bg-primary', 'text-white');
                btn.classList.add('text-primary', 'border-primary');
                btnText.textContent = "Seleccionar";
                
                // Limpiar checkboxes
                document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            }
        }

        // Manejador de Clic en Item (Card o Fila de tabla)
        function handleItemClick(element) {
            // Ignorar clic si fue directamente en los botones de acción
            if(event.target.closest('button')) return;

            if (isSelectionMode) {
                // Toggle checkbox dentro del elemento
                const checkbox = element.querySelector('input[type="checkbox"]');
                if(checkbox) checkbox.checked = !checkbox.checked;
            } else {
                openModal();
            }
        }

        // Lógica del Modal
        function openModal() {
            const modal = document.getElementById('detail-modal');
            const modalContent = document.getElementById('modal-content');
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                modalContent.classList.remove('scale-95');
                modalContent.classList.add('scale-100');
            }, 10);
        }

        function closeModal() {
            const modal = document.getElementById('detail-modal');
            const modalContent = document.getElementById('modal-content');

            modal.classList.add('opacity-0');
            modalContent.classList.remove('scale-100');
            modalContent.classList.add('scale-95');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        // Lógica Vista Grid/List con DIVS separados
        function switchView(view) {
            const viewGrid = document.getElementById('view-grid');
            const viewList = document.getElementById('view-list');
            const btnGrid = document.getElementById('btn-grid');
            const btnList = document.getElementById('btn-list');

            if (view === 'list') {
                viewGrid.classList.add('hidden');
                viewList.classList.remove('hidden');
                
                btnList.classList.add('bg-white', 'shadow-sm', 'text-primary');
                btnGrid.classList.remove('bg-white', 'shadow-sm', 'text-primary');
                btnGrid.classList.add('text-gray-500');
            } else {
                viewList.classList.add('hidden');
                viewGrid.classList.remove('hidden');

                btnGrid.classList.add('bg-white', 'shadow-sm', 'text-primary');
                btnList.classList.remove('bg-white', 'shadow-sm', 'text-primary');
                btnList.classList.add('text-gray-500');
            }
        }
    </script>
</body>
</html>